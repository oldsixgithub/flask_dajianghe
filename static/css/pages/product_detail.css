/* =====================================================
   pages/product_detail.css
   职责：仅产品详情页特有样式
   包含：响应式布局（PC/手机）、图片宽度限制、表格纵向堆叠（无重复表头）、拖拽/滑动样式
===================================================== */
/* =====================================================
   产品详情页基础样式
===================================================== */
.product-detail {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--gap-md); /* 左右内边距，手机端避免内容贴边 */
}

.product-detail h1 {
    font-size: 28px;
    margin-bottom: var(--gap-md);
    color: var(--text-main);
}

.product-detail h2 {
    font-size: 20px;
    margin: var(--gap-xl) 0 var(--gap-md) 0;
    color: var(--text-main);
}

.product-detail h3 {
    font-size: 18px;
    color: var(--text-main);
    margin: 0 0 var(--gap-md) 0;
    text-align: center; /* 让分类标题也居中，整体更协调 */
}

.product-detail p {
    font-size: 16px;
    color: var(--text-sub);
    margin-bottom: var(--gap-lg);
    margin-top: var(--gap-md);
    line-height: 1.6;
}

.product-detail ul {
    padding-left: 20px;
    margin-bottom: var(--gap-lg);
}

.product-detail ul li {
    margin: var(--gap-sm) 0;
    list-style: disc;
    color: var(--text-sub);
    line-height: 1.6;
}

/* 先写 PC 端样式，不嵌套 */
.product-image-gallery {
    margin: var(--gap-xl) 0;
    display: flex;
    flex-direction: column;
    align-items: center;
}

/* 然后在全局媒体查询中写手机端样式 */
@media (max-width: 768px) {
    .product-image-gallery {
        margin-left: calc(-1 * var(--gap-md));
        margin-right: calc(-1 * var(--gap-md));
        padding-left: var(--gap-md);
        padding-right: var(--gap-md);
        align-items: flex-start;
    }
}


.product-image-viewer {
    display: flex;
    gap: var(--gap-lg);
    margin: var(--gap-md) 0;
    align-items: center; /* 垂直居中对齐 */
    max-width: 1000px;
    width: 100%;
}

.thumbnail-container {
    width: 120px;
    display: flex;
    flex-direction: column;
    gap: var(--gap-sm);
    max-height: 500px;
    overflow-y: auto;
    padding: var(--gap-sm);
    scrollbar-width: none;
    -ms-overflow-style: none;
}

.thumbnail-container::-webkit-scrollbar {
    display: none;
}

.thumbnail-item {
    width: 100%;
    border: 2px solid transparent;
    border-radius: 4px;
    cursor: pointer;
    transition: border-color 0.3s ease;
}

.thumbnail-item.active {
    border-color: var(--color-active);
}

.thumbnail-item img {
    width: 100%;
    height: auto;
    object-fit: contain; /* 缩略图也完整显示 */
    border-radius: 2px;
    display: block;
}

/* 优化：移除PC端大图最大宽度限制，让其占满剩余空间 */
.main-image-wrapper {
    flex: 1;
    position: relative;
    width: 100%;
    cursor: grab;
    user-select: none;
    display: flex;
    justify-content: center; /* 大图在容器内水平居中 */
}

.main-image-container {
    width: 100%;
    height: auto;
    border-radius: 8px;
    overflow: hidden;
    max-width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* 核心新增：滑动容器样式（实现无渐变滑动过渡） */
.slider-wrapper {
    width: 100%;
    height: 100%;
    overflow: hidden;
    position: relative;
}

.slider {
    display: flex;
    height: 100%;
    transition: transform 0.3s ease-in-out; /* 滑动过渡（无渐变，仅平移） */
    transform: translateX(0);
}

.current-main-image, .backup-main-image {
    flex: 0 0 100%; /* 每张图占满容器宽度，横向排列 */
    width: 100%;
    height: auto;
    object-fit: contain; /* 完整显示图片，不裁切 */
    max-height: 600px; /* 限制最大高度，避免图片过高 */
    display: block;
    pointer-events: none;
}

.backup-main-image {
    display: block; /* 备用图始终显示（用于滑动衔接） */
}

.main-image-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 10;
    width: 40px;
    height: 40px;
    border: none;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border-radius: 50%;
    font-size: 18px;
    cursor: pointer;
    transition: background 0.3s ease;
}

.main-image-btn.left-btn {
    left: 10px;
}

.main-image-btn.right-btn {
    right: 10px;
}

.main-image-btn:hover {
    background: rgba(0, 0, 0, 0.8);
}

.slide-btn {
    border: none;
    background: rgba(0, 0, 0, 0.5);
    color: white;
    border-radius: 50%;
    font-size: 16px;
}

.slide-btn:hover {
    background: rgba(0, 0, 0, 0.8);
}

/* =====================================================
   表格样式
===================================================== */
.product-detail table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: var(--gap-lg);
    table-layout: fixed;
}

.product-detail th,
.product-detail td {
    padding: var(--gap-md);
    text-align: left;
    border: 1px solid #eee;
    word-wrap: break-word;
    white-space: normal;
    line-height: 1.6;
}

.product-detail th {
    width: 30%;
    background-color: #f8f9fa;
    color: var(--text-main);
    font-weight: 600;
}

.product-detail td {
    width: 70%;
    color: var(--text-sub);
}

/* =====================================================
   响应式媒体查询（手机端）
===================================================== */
@media (max-width: 768px) {
    .product-detail h1 {
        font-size: 24px;
    }

    .product-detail h2 {
        font-size: 18px;
        margin: var(--gap-lg) 0 var(--gap-sm) 0;
    }

    .product-detail h3 {
        font-size: 16px;
        margin: 0 0 var(--gap-sm) 0;
        text-align: left; /* 手机端标题左对齐 */
    }

    .product-detail p,
    .product-detail ul li {
        font-size: 14px;
    }

    .thumbnail-container {
        display: none;
    }

    .main-image-wrapper {
        max-width: 100%;
        cursor: default;
    }

    .main-image-btn {
        display: none !important;
    }

    .product-detail table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: var(--gap-lg);
    }

    .product-detail thead,
    .product-detail th {
        display: none !important;
    }

    .product-detail tbody,
    .product-detail tr,
    .product-detail td {
        display: block;
        width: 100%;
    }

    .product-detail tr {
        margin-bottom: var(--gap-md);
        border: 1px solid #eee;
        border-radius: 8px;
        overflow: hidden;
        background-color: #fff;
    }

    .product-detail td {
        padding: var(--gap-md);
        border: none;
        border-bottom: 1px solid #f8f9fa;
        color: var(--text-sub);
        font-size: 14px;
        line-height: 1.6;
    }

    .product-detail td::before {
        content: attr(data-label);
        display: block;
        font-weight: 600;
        color: var(--text-main);
        background-color: #f8f9fa;
        padding: var(--gap-sm) var(--gap-md);
        margin: calc(-1 * var(--gap-md)) calc(-1 * var(--gap-md)) var(--gap-sm) calc(-1 * var(--gap-md));
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .product-detail tr:last-child td {
        border-bottom: none;
    }

    /* 手机端保留滑动过渡效果 */
    .slider-wrapper {
        width: 100%;
    }
}